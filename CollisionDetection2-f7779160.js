import{g as x,i as f}from"./util-9d2ec2cb.js";class p{constructor(t,s,n,a,o,r,d){this.c=t,this.x=s,this.y=n,this.radius=a,this.mass=o,this.color=r,this.velocity=d}update(t,s,n){this.draw();for(const a of t){if(this===a)continue;const o=x(this.x,this.y,a.x,a.y);f(o,this.radius,a.radius)}this.isExceedingXbounds(s)&&(this.velocity.x=-this.velocity.x),this.isExceedingYbounds(n)&&(this.velocity.y=-this.velocity.y),this.updatePositionAndRotation()}calculateMomentOfInertia(){return .25*Math.PI*this.radius**4*this.mass}updatePositionAndRotation(){this.x+=this.velocity.x,this.y+=this.velocity.y}isExceedingXbounds(t){return this.x-this.radius<=0||this.radius+this.x>=t}isExceedingYbounds(t){return this.y-this.radius<=0||this.radius+this.y>=t}draw(){this.c.beginPath(),this.c.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),this.c.strokeStyle=this.color,this.c.stroke(),this.c.closePath()}}const e=document.querySelector("canvas");if(e===null)throw new Error("canvas is null");const h=e.getContext("2d");if(h===null)throw new Error("context is null");e.width=400;e.height=400;const c={x:Math.round(e.width/2),y:Math.round(e.height/2)};document.onmousemove=i=>{const t=e.getBoundingClientRect();c.x=Math.round(i.clientX-t.left),c.y=Math.round(i.clientY-t.top)};const v=(i,t)=>{const s=Math.max(t,Math.random()*i),n=i-t;return Math.min(s,n)},w=(i,t)=>{const s=Math.max(t,Math.random()*i),n=i-t;return Math.min(n,s)},M=(i,t,s,n)=>i.length===0?!1:i.filter(o=>{const r=x(o.x,o.y,t,s);return f(r,o.radius,n)}).length>0;let l;const P=()=>{l=[];const i=4,t=25,s=5,n="hsl(240, 41%, 35%)";for(let a=0;a<i;a++){let o,r=0,d,u=!0;for(;u;){if(o=v(e.width,t),r=w(e.height,t),M(l,o,r,t))continue;u=!1;const g={x:5,y:5};d=new p(h,o,r,t,s,n,g),l.push(d)}}};let y=0;const R=1e3/60,m=i=>{const t=i-y;requestAnimationFrame(m),t>=R&&(y=i,h.clearRect(0,0,e.width,e.height),h.fillStyle="blue",h.font="16px arial",h.fillText(`x:${c.x} y:${c.y}`,c.x,c.y),l.forEach(s=>{s.update(l,e.width,e.height)}))};P();m(0);
